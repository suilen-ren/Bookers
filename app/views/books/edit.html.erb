<h1>Editing Book</h1>
<% if @book.errors.any? %>
    <div class ="error_msgs_form">
      <div class ="error_msgs_main">
        <% if @book.errors.count == 1%>
          <h2> 1 error prohibited this book from being saved.</h2>
        <% else %>
          <h2> 2 errors prohibited this book from being saved.</h2>
        <% end %>
      </div>

      <ul class ="error_msgs_detail">
        <% @book.errors.full_messages.each do |message| %>
          <li> <%= message %></li>
        <% end %>
      </ul>
    </div>
  <%= form_with model: @book do |f|%>

    <div class ="field_with_errors">
      <label for ="book_title">Title</label>
      <%= f.text_field :title %>
    </div>

    <div class ="field_with_errors">
      <label for ="book_body">Body</label>
      <%= f.text_area :body %>
    </div>

    <div class ="action">
      <%= f.submit 'Update Book' %>
    </div>

  <% end %>
<% else %>

  <%= form_with model: @book do |f|%> <%#通常時に表示されるもの%>

    <div class ="field">
      <label for ="book_title">Title</label>
      <%= f.text_field :title %>
    </div>

    <div class ="field">
      <label for ="book_body">Body</label>
      <%= f.text_area :body %>
    </div>

    <div class ="action">
      <%= f.submit 'Update Book' %>
    </div>

  <% end %>
<% end %>

<%= link_to "Show", "/books/#{@book.id}" %> | <%= link_to "Back" , "/books" %>